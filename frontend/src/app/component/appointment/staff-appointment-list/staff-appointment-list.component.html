<div class="appointment-container">
  <mat-card class="appointment-card">
    <mat-card-title>Appointment Requests</mat-card-title>
    <mat-card-content>
      @for (userAppointment of userAppointments; track $index) {
      <div class="appointment-item" (click)="openUserAppointmentDialog(userAppointment)">
        <mat-card>
          <mat-card-content>
            <p><strong>Patient:</strong> {{userAppointment.user.firstName}} {{userAppointment.user.lastName}}</p>
            <p><strong>Hospital:</strong> {{userAppointment.hospital.name}}</p>
            <p><strong>Medic:</strong> {{userAppointment.medic.firstName}} {{userAppointment.medic.lastName}}</p>
            <p><strong>Specialization:</strong> {{userAppointment.specialization.name}}</p>
            <p><strong>Time:</strong> {{userAppointment.date | date:'dd-MM-yyyy'}} - {{userAppointment.time | time}}</p>
            <p><strong>Notes:</strong> {{userAppointment.description}}</p>
          </mat-card-content>
        </mat-card>
      </div>
      }
    </mat-card-content>
  </mat-card>

  <mat-card class="appointment-card">
    <mat-card-title>Confirmed Appointments</mat-card-title>
    <mat-card-content>
      @for (appointment of appointments; track $index) {
      <div class="appointment-item" (click)="openAppointmentDialog(appointment)">
        <mat-card>
          <mat-card-content>
            <p><strong>Patient:</strong> {{appointment.user.firstName}} {{appointment.user.lastName}}</p>
            <p><strong>Hospital:</strong> {{appointment.hospital.name}}</p>
            <p><strong>Medic:</strong> {{appointment.medic.firstName}} {{appointment.medic.lastName}}</p>
            <p><strong>Specialization:</strong> {{appointment.specialization.name}}</p>
            <p><strong>Time:</strong> {{appointment.date | date:'dd-MM-yyyy'}} - {{appointment.time | time}}</p>
            <p><strong>Notes:</strong> {{appointment.description}}</p>
          </mat-card-content>
        </mat-card>
      </div>
      }
    </mat-card-content>
  </mat-card>
</div>

<app-appointment-form [isStaff]="true"></app-appointment-form>